<div class="row">
  <nb-card>
    <nb-card-body *ngIf="!loggedAs"
      ><div>
        <form (ngSubmit)="login()">
          <div class="form-control-group">
            <input
              nbInput
              fullWidth
              [(ngModel)]="user.login"
              placeholder="login"
              autofocus
              type="text"
              name="login"
            />
          </div>
          <div class="form-control-group">
            <input
              nbInput
              fullWidth
              name="password"
              type="password"
              [(ngModel)]="user.password"
              placeholder="haslo"
            />
          </div>
          <div class="form-control-group">
            <nb-select
              name="world"
              placeholder="ÅšWIAT"
              [(ngModel)]="user.selectedWorld"
              (selectedChange)="sel($event)"
            >
              <nb-option value="http://www.x10.aspidanetwork.com"
                >x10</nb-option
              >
              <nb-option value="http://www.x1000.aspidanetwork.com"
                >x1k</nb-option
              >
              <nb-option value="http://www.x10000.aspidanetwork.com"
                >x10k</nb-option
              >
              <nb-option value="http://www.x50000.aspidanetwork.com"
                >x50k</nb-option
              >
              <nb-option value="http://www.x1000000.aspidanetwork.com"
                >x1kk</nb-option
              >
              <nb-option value="http://www.x5000000.aspidanetwork.com"
                >x5kk</nb-option
              >
              <nb-option value="http://www.x10000000.aspidanetwork.com"
                >x10kk</nb-option
              >
            </nb-select>
          </div>
          <button nbButton fullWidth status="success">ZALOGUJ</button>
        </form>
      </div></nb-card-body
    >
  </nb-card>

  <nb-card style="width:80vw">
    <nb-card-body *ngIf="loggedAs"
      ><div style="color:lime">
        <b>{{ loggedAs }}</b>
        <div class="space" style="float:right">
          <button (click)="logout()" nbButton size="xsmall" status="success">
            WYLOGUJ
          </button>
        </div>
      </div>
    </nb-card-body>
  </nb-card>
</div>

<div *ngIf="data">
  <div class="row">
    <nb-card style="width:100%">
      <nb-card-header> Wioski </nb-card-header>

      <nb-card-body>
        <nb-tabset>
          <nb-tab
            tabTitle="{{ item.name + ' (' + item.x + ':' + item.y + ')' }}"
            *ngFor="let item of data"
          >
            <div style="width:30%;margin-top:1rem">
              <ng2-smart-table
                [settings]="settings"
                [source]="item.buildings"
              ></ng2-smart-table>
            </div>
            <div></div>
          </nb-tab>
        </nb-tabset>
      </nb-card-body>
    </nb-card>
  </div>
</div>
